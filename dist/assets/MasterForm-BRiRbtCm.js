import{t as ft,v as yt,r as oe,w as Lt,au as Pt,av as It,j as w,x as Nt,y as ht,z as vt,aw as Gt,ax as Wt,ay as Ht,az as qt,W as C,aA as $t,aB as Kt,aC as zt,aD as Xt,B as Yt,a as Jt,aE as Qt,aF as Zt,c as er,aG as tr,aH as gt,T as rr,aI as sr,aJ as ir,aK as ar,aL as or,aM as nr,aN as lr,i as Fe,aO as ur,aP as dr,aQ as cr,aR as fr,aS as yr,aT as hr,ac as vr,aU as gr,aV as mr,G as br}from"./index-BvvL1rGo.js";import{a as xr}from"./Toast-B5XXwoML.js";function _r(t){return ft("MuiFormGroup",t)}yt("MuiFormGroup",["root","row","error"]);const Fr=t=>{const{classes:s,row:r,error:a}=t;return vt({root:["root",r&&"row",a&&"error"]},_r,s)},Vr=Nt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,r.row&&s.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),wr=oe.forwardRef(function(s,r){const a=Lt({props:s,name:"MuiFormGroup"}),{className:o,row:l=!1,...d}=a,c=Pt(),_=It({props:a,muiFormControl:c,states:["error"]}),V={...a,row:l,error:_.error},g=Fr(V);return w.jsx(Vr,{className:ht(g.root,o),ownerState:V,ref:r,...d})});function Ar(t){return ft("MuiRadioGroup",t)}yt("MuiRadioGroup",["root","row","error"]);const Dr=t=>{const{classes:s,row:r,error:a}=t;return vt({root:["root",r&&"row",a&&"error"]},Ar,s)},pr=oe.forwardRef(function(s,r){const{actions:a,children:o,className:l,defaultValue:d,name:c,onChange:_,value:V,...g}=s,F=oe.useRef(null),b=Dr(s),[p,D]=Gt({controlled:V,default:d,name:"RadioGroup"});oe.useImperativeHandle(a,()=>({focus:()=>{let m=F.current.querySelector("input:not(:disabled):checked");m||(m=F.current.querySelector("input:not(:disabled)")),m&&m.focus()}}),[]);const A=Wt(r,F),R=Ht(c),G=oe.useMemo(()=>({name:R,onChange(m){D(m.target.value),_&&_(m,m.target.value)},value:p}),[R,_,D,p]);return w.jsx(qt.Provider,{value:G,children:w.jsx(wr,{role:"radiogroup",ref:A,className:ht(b.root,l),...g,children:o})})});function Cr({fields:t}){return{}}const Sr=t=>oe.useCallback(async s=>{if(typeof s!="object"||Array.isArray(s))return console.error("Data must be an object",s),{values:{},errors:{error:{type:"validation",message:"Data must be an object"}}};try{return{values:await t.validate(s,{abortEarly:!1}),errors:{}}}catch(r){return{values:{},errors:r?.inner?.reduce((a,o)=>({...a,[o.path||"error"]:{type:o.type??"validation",message:o.message}}),{})}}},[t]);var be=t=>t.type==="checkbox",le=t=>t instanceof Date,q=t=>t==null;const mt=t=>typeof t=="object";var L=t=>!q(t)&&!Array.isArray(t)&&mt(t)&&!le(t),bt=t=>L(t)&&t.target?be(t.target)?t.target.checked:t.target.value:t,Rr=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xt=(t,s)=>t.has(Rr(s)),kr=t=>{const s=t.constructor&&t.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(t){let s;const r=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(Be&&(t instanceof Blob||a))&&(r||L(t)))if(s=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!kr(t))s=t;else for(const o in t)t.hasOwnProperty(o)&&(s[o]=N(t[o]));else return t;return s}var Ce=t=>/^\w*$/.test(t),B=t=>t===void 0,Le=t=>Array.isArray(t)?t.filter(Boolean):[],Pe=t=>Le(t.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(t,s,r)=>{if(!s||!L(t))return r;const a=(Ce(s)?[s]:Pe(s)).reduce((o,l)=>q(o)?o:o[l],t);return B(a)||a===t?B(t[s])?r:t[s]:a},X=t=>typeof t=="boolean",M=(t,s,r)=>{let a=-1;const o=Ce(s)?[s]:Pe(s),l=o.length,d=l-1;for(;++a<l;){const c=o[a];let _=r;if(a!==d){const V=t[c];_=L(V)||Array.isArray(V)?V:isNaN(+o[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=_,t=t[c]}};const we={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ie=C.createContext(null);Ie.displayName="HookFormContext";const Se=()=>C.useContext(Ie),Er=t=>{const{children:s,...r}=t;return C.createElement(Ie.Provider,{value:r},s)};var _t=(t,s,r,a=!0)=>{const o={defaultValues:s._defaultValues};for(const l in t)Object.defineProperty(o,l,{get:()=>{const d=l;return s._proxyFormState[d]!==Q.all&&(s._proxyFormState[d]=!a||Q.all),r&&(r[d]=!0),t[d]}});return o};const Ne=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Or(t){const s=Se(),{control:r=s.control,disabled:a,name:o,exact:l}=t||{},[d,c]=C.useState(r._formState),_=C.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ne(()=>r._subscribe({name:o,formState:_.current,exact:l,callback:V=>{!a&&c({...r._formState,...V})}}),[o,a,l]),C.useEffect(()=>{_.current.isValid&&r._setValid(!0)},[r]),C.useMemo(()=>_t(d,r,_.current,!1),[d,r])}var re=t=>typeof t=="string",Ft=(t,s,r,a,o)=>re(t)?(a&&s.watch.add(t),h(r,t,o)):Array.isArray(t)?t.map(l=>(a&&s.watch.add(l),h(r,l))):(a&&(s.watchAll=!0),r),je=t=>q(t)||!mt(t);function ie(t,s,r=new WeakSet){if(je(t)||je(s))return t===s;if(le(t)&&le(s))return t.getTime()===s.getTime();const a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const l of a){const d=t[l];if(!o.includes(l))return!1;if(l!=="ref"){const c=s[l];if(le(d)&&le(c)||L(d)&&L(c)||Array.isArray(d)&&Array.isArray(c)?!ie(d,c,r):d!==c)return!1}}return!0}function Mr(t){const s=Se(),{control:r=s.control,name:a,defaultValue:o,disabled:l,exact:d,compute:c}=t||{},_=C.useRef(o),V=C.useRef(c),g=C.useRef(void 0);V.current=c;const F=C.useMemo(()=>r._getWatch(a,_.current),[r,a]),[b,p]=C.useState(V.current?V.current(F):F);return Ne(()=>r._subscribe({name:a,formState:{values:!0},exact:d,callback:D=>{if(!l){const A=Ft(a,r._names,D.values||r._formValues,!1,_.current);if(V.current){const R=V.current(A);ie(R,g.current)||(p(R),g.current=R)}else p(A)}}}),[r,l,a,d]),C.useEffect(()=>r._removeUnmounted()),b}function Tr(t){const s=Se(),{name:r,disabled:a,control:o=s.control,shouldUnregister:l,defaultValue:d}=t,c=xt(o._names.array,r),_=C.useMemo(()=>h(o._formValues,r,h(o._defaultValues,r,d)),[o,r,d]),V=Mr({control:o,name:r,defaultValue:_,exact:!0}),g=Or({control:o,name:r,exact:!0}),F=C.useRef(t),b=C.useRef(o.register(r,{...t.rules,value:V,...X(t.disabled)?{disabled:t.disabled}:{}}));F.current=t;const p=C.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!h(g.errors,r)},isDirty:{enumerable:!0,get:()=>!!h(g.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!h(g.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!h(g.validatingFields,r)},error:{enumerable:!0,get:()=>h(g.errors,r)}}),[g,r]),D=C.useCallback(m=>b.current.onChange({target:{value:bt(m),name:r},type:we.CHANGE}),[r]),A=C.useCallback(()=>b.current.onBlur({target:{value:h(o._formValues,r),name:r},type:we.BLUR}),[r,o._formValues]),R=C.useCallback(m=>{const P=h(o._fields,r);P&&m&&(P._f.ref={focus:()=>m.focus&&m.focus(),select:()=>m.select&&m.select(),setCustomValidity:j=>m.setCustomValidity(j),reportValidity:()=>m.reportValidity()})},[o._fields,r]),G=C.useMemo(()=>({name:r,value:V,...X(a)||g.disabled?{disabled:g.disabled||a}:{},onChange:D,onBlur:A,ref:R}),[r,a,g.disabled,D,A,R,V]);return C.useEffect(()=>{const m=o._options.shouldUnregister||l;o.register(r,{...F.current.rules,...X(F.current.disabled)?{disabled:F.current.disabled}:{}});const P=(j,T)=>{const W=h(o._fields,j);W&&W._f&&(W._f.mount=T)};if(P(r,!0),m){const j=N(h(o._options.defaultValues,r));M(o._defaultValues,r,j),B(h(o._formValues,r))&&M(o._formValues,r,j)}return!c&&o.register(r),()=>{(c?m&&!o._state.action:m)?o.unregister(r):P(r,!1)}},[r,o,c,l]),C.useEffect(()=>{o._setDisabledField({disabled:a,name:r})},[a,r,o]),C.useMemo(()=>({field:G,formState:g,fieldState:p}),[G,g,p])}const fe=t=>t.render(Tr(t));var jr=(t,s,r,a,o)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:o||!0}}:{},ge=t=>Array.isArray(t)?t:[t],et=()=>{let t=[];return{get observers(){return t},next:o=>{for(const l of t)l.next&&l.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(l=>l!==o)}}),unsubscribe:()=>{t=[]}}},z=t=>L(t)&&!Object.keys(t).length,Ge=t=>t.type==="file",Z=t=>typeof t=="function",Ae=t=>{if(!Be)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Vt=t=>t.type==="select-multiple",We=t=>t.type==="radio",Ur=t=>We(t)||be(t),Te=t=>Ae(t)&&t.isConnected;function Br(t,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)t=B(t)?a++:t[s[a++]];return t}function Lr(t){for(const s in t)if(t.hasOwnProperty(s)&&!B(t[s]))return!1;return!0}function I(t,s){const r=Array.isArray(s)?s:Ce(s)?[s]:Pe(s),a=r.length===1?t:Br(t,r),o=r.length-1,l=r[o];return a&&delete a[l],o!==0&&(L(a)&&z(a)||Array.isArray(a)&&Lr(a))&&I(t,r.slice(0,-1)),t}var wt=t=>{for(const s in t)if(Z(t[s]))return!0;return!1};function De(t,s={}){const r=Array.isArray(t);if(L(t)||r)for(const a in t)Array.isArray(t[a])||L(t[a])&&!wt(t[a])?(s[a]=Array.isArray(t[a])?[]:{},De(t[a],s[a])):q(t[a])||(s[a]=!0);return s}function At(t,s,r){const a=Array.isArray(t);if(L(t)||a)for(const o in t)Array.isArray(t[o])||L(t[o])&&!wt(t[o])?B(s)||je(r[o])?r[o]=Array.isArray(t[o])?De(t[o],[]):{...De(t[o])}:At(t[o],q(s)?{}:s[o],r[o]):r[o]=!ie(t[o],s[o]);return r}var he=(t,s)=>At(t,s,De(s));const tt={value:!1,isValid:!1},rt={value:!0,isValid:!0};var Dt=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!B(t[0].attributes.value)?B(t[0].value)||t[0].value===""?rt:{value:t[0].value,isValid:!0}:rt:tt}return tt},pt=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>B(t)?t:s?t===""?NaN:t&&+t:r&&re(t)?new Date(t):a?a(t):t;const st={isValid:!1,value:null};var Ct=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,st):st;function it(t){const s=t.ref;return Ge(s)?s.files:We(s)?Ct(t.refs).value:Vt(s)?[...s.selectedOptions].map(({value:r})=>r):be(s)?Dt(t.refs).value:pt(B(s.value)?t.ref.value:s.value,t)}var Pr=(t,s,r,a)=>{const o={};for(const l of t){const d=h(s,l);d&&M(o,l,d._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:a}},pe=t=>t instanceof RegExp,ve=t=>B(t)?t:pe(t)?t.source:L(t)?pe(t.value)?t.value.source:t.value:t,at=t=>({isOnSubmit:!t||t===Q.onSubmit,isOnBlur:t===Q.onBlur,isOnChange:t===Q.onChange,isOnAll:t===Q.all,isOnTouch:t===Q.onTouched});const ot="AsyncFunction";var Ir=t=>!!t&&!!t.validate&&!!(Z(t.validate)&&t.validate.constructor.name===ot||L(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===ot)),Nr=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nt=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const me=(t,s,r,a)=>{for(const o of r||Object.keys(t)){const l=h(t,o);if(l){const{_f:d,...c}=l;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],o)&&!a)return!0;if(d.ref&&s(d.ref,d.name)&&!a)return!0;if(me(c,s))break}else if(L(c)&&me(c,s))break}}};function lt(t,s,r){const a=h(t,r);if(a||Ce(r))return{error:a,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),d=h(s,l),c=h(t,l);if(d&&!Array.isArray(d)&&r!==l)return{name:r};if(c&&c.type)return{name:l,error:c};if(c&&c.root&&c.root.type)return{name:`${l}.root`,error:c.root};o.pop()}return{name:r}}var Gr=(t,s,r,a)=>{r(t);const{name:o,...l}=t;return z(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(d=>s[d]===(!a||Q.all))},Wr=(t,s,r)=>!t||!s||t===s||ge(t).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),Hr=(t,s,r,a,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(s||t):(r?a.isOnBlur:o.isOnBlur)?!t:(r?a.isOnChange:o.isOnChange)?t:!0,qr=(t,s)=>!Le(h(t,s)).length&&I(t,s),$r=(t,s,r)=>{const a=ge(h(t,r));return M(a,"root",s[r]),M(t,r,a),t},Ve=t=>re(t);function ut(t,s,r="validate"){if(Ve(t)||Array.isArray(t)&&t.every(Ve)||X(t)&&!t)return{type:r,message:Ve(t)?t:"",ref:s}}var ce=t=>L(t)&&!pe(t)?t:{value:t,message:""},dt=async(t,s,r,a,o,l)=>{const{ref:d,refs:c,required:_,maxLength:V,minLength:g,min:F,max:b,pattern:p,validate:D,name:A,valueAsNumber:R,mount:G}=t._f,m=h(r,A);if(!G||s.has(A))return{};const P=c?c[0]:d,j=S=>{o&&P.reportValidity&&(P.setCustomValidity(X(S)?"":S||""),P.reportValidity())},T={},W=We(d),$=be(d),ue=W||$,J=(R||Ge(d))&&B(d.value)&&B(m)||Ae(d)&&d.value===""||m===""||Array.isArray(m)&&!m.length,ne=jr.bind(null,A,a,T),ee=(S,E,U,H=se.maxLength,K=se.minLength)=>{const te=S?E:U;T[A]={type:S?H:K,message:te,ref:d,...ne(S?H:K,te)}};if(l?!Array.isArray(m)||!m.length:_&&(!ue&&(J||q(m))||X(m)&&!m||$&&!Dt(c).isValid||W&&!Ct(c).isValid)){const{value:S,message:E}=Ve(_)?{value:!!_,message:_}:ce(_);if(S&&(T[A]={type:se.required,message:E,ref:P,...ne(se.required,E)},!a))return j(E),T}if(!J&&(!q(F)||!q(b))){let S,E;const U=ce(b),H=ce(F);if(!q(m)&&!isNaN(m)){const K=d.valueAsNumber||m&&+m;q(U.value)||(S=K>U.value),q(H.value)||(E=K<H.value)}else{const K=d.valueAsDate||new Date(m),te=xe=>new Date(new Date().toDateString()+" "+xe),ye=d.type=="time",de=d.type=="week";re(U.value)&&m&&(S=ye?te(m)>te(U.value):de?m>U.value:K>new Date(U.value)),re(H.value)&&m&&(E=ye?te(m)<te(H.value):de?m<H.value:K<new Date(H.value))}if((S||E)&&(ee(!!S,U.message,H.message,se.max,se.min),!a))return j(T[A].message),T}if((V||g)&&!J&&(re(m)||l&&Array.isArray(m))){const S=ce(V),E=ce(g),U=!q(S.value)&&m.length>+S.value,H=!q(E.value)&&m.length<+E.value;if((U||H)&&(ee(U,S.message,E.message),!a))return j(T[A].message),T}if(p&&!J&&re(m)){const{value:S,message:E}=ce(p);if(pe(S)&&!m.match(S)&&(T[A]={type:se.pattern,message:E,ref:d,...ne(se.pattern,E)},!a))return j(E),T}if(D){if(Z(D)){const S=await D(m,r),E=ut(S,P);if(E&&(T[A]={...E,...ne(se.validate,E.message)},!a))return j(E.message),T}else if(L(D)){let S={};for(const E in D){if(!z(S)&&!a)break;const U=ut(await D[E](m,r),P,E);U&&(S={...U,...ne(E,U.message)},j(U.message),a&&(T[A]=S))}if(!z(S)&&(T[A]={ref:P,...S},!a))return T}}return j(!0),T};const Kr={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function zr(t={}){let s={...Kr,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},o=L(s.defaultValues)||L(s.values)?N(s.defaultValues||s.values)||{}:{},l=s.shouldUnregister?{}:N(o),d={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,V=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let F={...g};const b={array:et(),state:et()},p=s.criteriaMode===Q.all,D=i=>n=>{clearTimeout(V),V=setTimeout(i,n)},A=async i=>{if(!s.disabled&&(g.isValid||F.isValid||i)){const n=s.resolver?z((await $()).errors):await J(a,!0);n!==r.isValid&&b.state.next({isValid:n})}},R=(i,n)=>{!s.disabled&&(g.isValidating||g.validatingFields||F.isValidating||F.validatingFields)&&((i||Array.from(c.mount)).forEach(u=>{u&&(n?M(r.validatingFields,u,n):I(r.validatingFields,u))}),b.state.next({validatingFields:r.validatingFields,isValidating:!z(r.validatingFields)}))},G=(i,n=[],u,v,y=!0,f=!0)=>{if(v&&u&&!s.disabled){if(d.action=!0,f&&Array.isArray(h(a,i))){const x=u(h(a,i),v.argA,v.argB);y&&M(a,i,x)}if(f&&Array.isArray(h(r.errors,i))){const x=u(h(r.errors,i),v.argA,v.argB);y&&M(r.errors,i,x),qr(r.errors,i)}if((g.touchedFields||F.touchedFields)&&f&&Array.isArray(h(r.touchedFields,i))){const x=u(h(r.touchedFields,i),v.argA,v.argB);y&&M(r.touchedFields,i,x)}(g.dirtyFields||F.dirtyFields)&&(r.dirtyFields=he(o,l)),b.state.next({name:i,isDirty:ee(i,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else M(l,i,n)},m=(i,n)=>{M(r.errors,i,n),b.state.next({errors:r.errors})},P=i=>{r.errors=i,b.state.next({errors:r.errors,isValid:!1})},j=(i,n,u,v)=>{const y=h(a,i);if(y){const f=h(l,i,B(u)?h(o,i):u);B(f)||v&&v.defaultChecked||n?M(l,i,n?f:it(y._f)):U(i,f),d.mount&&A()}},T=(i,n,u,v,y)=>{let f=!1,x=!1;const k={name:i};if(!s.disabled){if(!u||v){(g.isDirty||F.isDirty)&&(x=r.isDirty,r.isDirty=k.isDirty=ee(),f=x!==k.isDirty);const O=ie(h(o,i),n);x=!!h(r.dirtyFields,i),O?I(r.dirtyFields,i):M(r.dirtyFields,i,!0),k.dirtyFields=r.dirtyFields,f=f||(g.dirtyFields||F.dirtyFields)&&x!==!O}if(u){const O=h(r.touchedFields,i);O||(M(r.touchedFields,i,u),k.touchedFields=r.touchedFields,f=f||(g.touchedFields||F.touchedFields)&&O!==u)}f&&y&&b.state.next(k)}return f?k:{}},W=(i,n,u,v)=>{const y=h(r.errors,i),f=(g.isValid||F.isValid)&&X(n)&&r.isValid!==n;if(s.delayError&&u?(_=D(()=>m(i,u)),_(s.delayError)):(clearTimeout(V),_=null,u?M(r.errors,i,u):I(r.errors,i)),(u?!ie(y,u):y)||!z(v)||f){const x={...v,...f&&X(n)?{isValid:n}:{},errors:r.errors,name:i};r={...r,...x},b.state.next(x)}},$=async i=>{R(i,!0);const n=await s.resolver(l,s.context,Pr(i||c.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return R(i),n},ue=async i=>{const{errors:n}=await $(i);if(i)for(const u of i){const v=h(n,u);v?M(r.errors,u,v):I(r.errors,u)}else r.errors=n;return n},J=async(i,n,u={valid:!0})=>{for(const v in i){const y=i[v];if(y){const{_f:f,...x}=y;if(f){const k=c.array.has(f.name),O=y._f&&Ir(y._f);O&&g.validatingFields&&R([v],!0);const Y=await dt(y,c.disabled,l,p,s.shouldUseNativeValidation&&!n,k);if(O&&g.validatingFields&&R([v]),Y[f.name]&&(u.valid=!1,n))break;!n&&(h(Y,f.name)?k?$r(r.errors,Y,f.name):M(r.errors,f.name,Y[f.name]):I(r.errors,f.name))}!z(x)&&await J(x,n,u)}}return u.valid},ne=()=>{for(const i of c.unMount){const n=h(a,i);n&&(n._f.refs?n._f.refs.every(u=>!Te(u)):!Te(n._f.ref))&&Re(i)}c.unMount=new Set},ee=(i,n)=>!s.disabled&&(i&&n&&M(l,i,n),!ie(xe(),o)),S=(i,n,u)=>Ft(i,c,{...d.mount?l:B(n)?o:re(i)?{[i]:n}:n},u,n),E=i=>Le(h(d.mount?l:o,i,s.shouldUnregister?h(o,i,[]):[])),U=(i,n,u={})=>{const v=h(a,i);let y=n;if(v){const f=v._f;f&&(!f.disabled&&M(l,i,pt(n,f)),y=Ae(f.ref)&&q(n)?"":n,Vt(f.ref)?[...f.ref.options].forEach(x=>x.selected=y.includes(x.value)):f.refs?be(f.ref)?f.refs.forEach(x=>{(!x.defaultChecked||!x.disabled)&&(Array.isArray(y)?x.checked=!!y.find(k=>k===x.value):x.checked=y===x.value||!!y)}):f.refs.forEach(x=>x.checked=x.value===y):Ge(f.ref)?f.ref.value="":(f.ref.value=y,f.ref.type||b.state.next({name:i,values:N(l)})))}(u.shouldDirty||u.shouldTouch)&&T(i,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&de(i)},H=(i,n,u)=>{for(const v in n){if(!n.hasOwnProperty(v))return;const y=n[v],f=i+"."+v,x=h(a,f);(c.array.has(i)||L(y)||x&&!x._f)&&!le(y)?H(f,y,u):U(f,y,u)}},K=(i,n,u={})=>{const v=h(a,i),y=c.array.has(i),f=N(n);M(l,i,f),y?(b.array.next({name:i,values:N(l)}),(g.isDirty||g.dirtyFields||F.isDirty||F.dirtyFields)&&u.shouldDirty&&b.state.next({name:i,dirtyFields:he(o,l),isDirty:ee(i,f)})):v&&!v._f&&!q(f)?H(i,f,u):U(i,f,u),nt(i,c)&&b.state.next({...r,name:i}),b.state.next({name:d.mount?i:void 0,values:N(l)})},te=async i=>{d.mount=!0;const n=i.target;let u=n.name,v=!0;const y=h(a,u),f=O=>{v=Number.isNaN(O)||le(O)&&isNaN(O.getTime())||ie(O,h(l,u,O))},x=at(s.mode),k=at(s.reValidateMode);if(y){let O,Y;const _e=n.type?it(y._f):bt(i),ae=i.type===we.BLUR||i.type===we.FOCUS_OUT,jt=!Nr(y._f)&&!s.resolver&&!h(r.errors,u)&&!y._f.deps||Hr(ae,h(r.touchedFields,u),r.isSubmitted,k,x),Oe=nt(u,c,ae);M(l,u,_e),ae?(!n||!n.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),_&&_(0)):y._f.onChange&&y._f.onChange(i);const Me=T(u,_e,ae),Ut=!z(Me)||Oe;if(!ae&&b.state.next({name:u,type:i.type,values:N(l)}),jt)return(g.isValid||F.isValid)&&(s.mode==="onBlur"?ae&&A():ae||A()),Ut&&b.state.next({name:u,...Oe?{}:Me});if(!ae&&Oe&&b.state.next({...r}),s.resolver){const{errors:Qe}=await $([u]);if(f(_e),v){const Bt=lt(r.errors,a,u),Ze=lt(Qe,a,Bt.name||u);O=Ze.error,u=Ze.name,Y=z(Qe)}}else R([u],!0),O=(await dt(y,c.disabled,l,p,s.shouldUseNativeValidation))[u],R([u]),f(_e),v&&(O?Y=!1:(g.isValid||F.isValid)&&(Y=await J(a,!0)));v&&(y._f.deps&&de(y._f.deps),W(u,Y,O,Me))}},ye=(i,n)=>{if(h(r.errors,n)&&i.focus)return i.focus(),1},de=async(i,n={})=>{let u,v;const y=ge(i);if(s.resolver){const f=await ue(B(i)?i:y);u=z(f),v=i?!y.some(x=>h(f,x)):u}else i?(v=(await Promise.all(y.map(async f=>{const x=h(a,f);return await J(x&&x._f?{[f]:x}:x)}))).every(Boolean),!(!v&&!r.isValid)&&A()):v=u=await J(a);return b.state.next({...!re(i)||(g.isValid||F.isValid)&&u!==r.isValid?{}:{name:i},...s.resolver||!i?{isValid:u}:{},errors:r.errors}),n.shouldFocus&&!v&&me(a,ye,i?y:c.mount),v},xe=i=>{const n={...d.mount?l:o};return B(i)?n:re(i)?h(n,i):i.map(u=>h(n,u))},He=(i,n)=>({invalid:!!h((n||r).errors,i),isDirty:!!h((n||r).dirtyFields,i),error:h((n||r).errors,i),isValidating:!!h(r.validatingFields,i),isTouched:!!h((n||r).touchedFields,i)}),St=i=>{i&&ge(i).forEach(n=>I(r.errors,n)),b.state.next({errors:i?r.errors:{}})},qe=(i,n,u)=>{const v=(h(a,i,{_f:{}})._f||{}).ref,y=h(r.errors,i)||{},{ref:f,message:x,type:k,...O}=y;M(r.errors,i,{...O,...n,ref:v}),b.state.next({name:i,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&v&&v.focus&&v.focus()},Rt=(i,n)=>Z(i)?b.state.subscribe({next:u=>"values"in u&&i(S(void 0,n),u)}):S(i,n,!0),$e=i=>b.state.subscribe({next:n=>{Wr(i.name,n.name,i.exact)&&Gr(n,i.formState||g,Tt,i.reRenderRoot)&&i.callback({values:{...l},...r,...n,defaultValues:o})}}).unsubscribe,kt=i=>(d.mount=!0,F={...F,...i.formState},$e({...i,formState:F})),Re=(i,n={})=>{for(const u of i?ge(i):c.mount)c.mount.delete(u),c.array.delete(u),n.keepValue||(I(a,u),I(l,u)),!n.keepError&&I(r.errors,u),!n.keepDirty&&I(r.dirtyFields,u),!n.keepTouched&&I(r.touchedFields,u),!n.keepIsValidating&&I(r.validatingFields,u),!s.shouldUnregister&&!n.keepDefaultValue&&I(o,u);b.state.next({values:N(l)}),b.state.next({...r,...n.keepDirty?{isDirty:ee()}:{}}),!n.keepIsValid&&A()},Ke=({disabled:i,name:n})=>{(X(i)&&d.mount||i||c.disabled.has(n))&&(i?c.disabled.add(n):c.disabled.delete(n))},ke=(i,n={})=>{let u=h(a,i);const v=X(n.disabled)||X(s.disabled);return M(a,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...n}}),c.mount.add(i),u?Ke({disabled:X(n.disabled)?n.disabled:s.disabled,name:i}):j(i,!0,n.value),{...v?{disabled:n.disabled||s.disabled}:{},...s.progressive?{required:!!n.required,min:ve(n.min),max:ve(n.max),minLength:ve(n.minLength),maxLength:ve(n.maxLength),pattern:ve(n.pattern)}:{},name:i,onChange:te,onBlur:te,ref:y=>{if(y){ke(i,n),u=h(a,i);const f=B(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,x=Ur(f),k=u._f.refs||[];if(x?k.find(O=>O===f):f===u._f.ref)return;M(a,i,{_f:{...u._f,...x?{refs:[...k.filter(Te),f,...Array.isArray(h(o,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),j(i,!1,void 0,f)}else u=h(a,i,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(xt(c.array,i)&&d.action)&&c.unMount.add(i)}}},Ee=()=>s.shouldFocusError&&me(a,ye,c.mount),Et=i=>{X(i)&&(b.state.next({disabled:i}),me(a,(n,u)=>{const v=h(a,u);v&&(n.disabled=v._f.disabled||i,Array.isArray(v._f.refs)&&v._f.refs.forEach(y=>{y.disabled=v._f.disabled||i}))},0,!1))},ze=(i,n)=>async u=>{let v;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=N(l);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:x}=await $();r.errors=f,y=N(x)}else await J(a);if(c.disabled.size)for(const f of c.disabled)I(y,f);if(I(r.errors,"root"),z(r.errors)){b.state.next({errors:{}});try{await i(y,u)}catch(f){v=f}}else n&&await n({...r.errors},u),Ee(),setTimeout(Ee);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:z(r.errors)&&!v,submitCount:r.submitCount+1,errors:r.errors}),v)throw v},Ot=(i,n={})=>{h(a,i)&&(B(n.defaultValue)?K(i,N(h(o,i))):(K(i,n.defaultValue),M(o,i,N(n.defaultValue))),n.keepTouched||I(r.touchedFields,i),n.keepDirty||(I(r.dirtyFields,i),r.isDirty=n.defaultValue?ee(i,N(h(o,i))):ee()),n.keepError||(I(r.errors,i),g.isValid&&A()),b.state.next({...r}))},Xe=(i,n={})=>{const u=i?N(i):o,v=N(u),y=z(i),f=y?o:v;if(n.keepDefaultValues||(o=u),!n.keepValues){if(n.keepDirtyValues){const x=new Set([...c.mount,...Object.keys(he(o,l))]);for(const k of Array.from(x))h(r.dirtyFields,k)?M(f,k,h(l,k)):K(k,h(f,k))}else{if(Be&&B(i))for(const x of c.mount){const k=h(a,x);if(k&&k._f){const O=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Ae(O)){const Y=O.closest("form");if(Y){Y.reset();break}}}}if(n.keepFieldsRef)for(const x of c.mount)K(x,h(f,x));else a={}}l=s.shouldUnregister?n.keepDefaultValues?N(o):{}:N(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!g.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!s.shouldUnregister,b.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:y?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!ie(i,o)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:y?{}:n.keepDirtyValues?n.keepDefaultValues&&l?he(o,l):r.dirtyFields:n.keepDefaultValues&&i?he(o,i):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ye=(i,n)=>Xe(Z(i)?i(l):i,n),Mt=(i,n={})=>{const u=h(a,i),v=u&&u._f;if(v){const y=v.refs?v.refs[0]:v.ref;y.focus&&(y.focus(),n.shouldSelect&&Z(y.select)&&y.select())}},Tt=i=>{r={...r,...i}},Je={control:{register:ke,unregister:Re,getFieldState:He,handleSubmit:ze,setError:qe,_subscribe:$e,_runSchema:$,_focusError:Ee,_getWatch:S,_getDirty:ee,_setValid:A,_setFieldArray:G,_setDisabledField:Ke,_setErrors:P,_getFieldArray:E,_reset:Xe,_resetDefaultValues:()=>Z(s.defaultValues)&&s.defaultValues().then(i=>{Ye(i,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Et,_subjects:b,_proxyFormState:g,get _fields(){return a},get _formValues(){return l},get _state(){return d},set _state(i){d=i},get _defaultValues(){return o},get _names(){return c},set _names(i){c=i},get _formState(){return r},get _options(){return s},set _options(i){s={...s,...i}}},subscribe:kt,trigger:de,register:ke,handleSubmit:ze,watch:Rt,setValue:K,getValues:xe,reset:Ye,resetField:Ot,clearErrors:St,unregister:Re,setError:qe,setFocus:Mt,getFieldState:He};return{...Je,formControl:Je}}function Xr(t={}){const s=C.useRef(void 0),r=C.useRef(void 0),[a,o]=C.useState({isDirty:!1,isValidating:!1,isLoading:Z(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Z(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:a},t.defaultValues&&!Z(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:d,...c}=zr(t);s.current={...c,formState:a}}const l=s.current.control;return l._options=t,Ne(()=>{const d=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),l._formState.isReady=!0,d},[l]),C.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),C.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),C.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),C.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),C.useEffect(()=>{if(l._proxyFormState.isDirty){const d=l._getDirty();d!==a.isDirty&&l._subjects.state.next({isDirty:d})}},[l,a.isDirty]),C.useEffect(()=>{t.values&&!ie(t.values,r.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=t.values,o(d=>({...d}))):l._resetDefaultValues()},[l,t.values]),C.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),s.current.formState=_t(a,l),s.current}const Yr=({name:t,label:s,value:r=void 0,onChange:a=void 0,isLoading:o=!1,isReadOnly:l=!1,...d})=>w.jsx(fe,{name:t,defaultValue:null,render:({field:{ref:c,onChange:_,onBlur:V,value:g,name:F,...b},fieldState:{error:p}})=>w.jsx($t,{inputRef:c,name:F,label:s,isLoading:o,isReadOnly:l,error:p,value:r??g,onChange:D=>{_(D),a?.(D)},onBlur:V,...d,...b})}),Jr=({name:t,label:s,value:r=void 0,onChange:a=void 0,isLoading:o=!1,isReadOnly:l=!1,...d})=>w.jsx(fe,{name:t,defaultValue:null,rules:{validate:c=>Kt(c)||"Введите корректную дату"},render:({field:{ref:c,onChange:_,onBlur:V,value:g,name:F,...b},fieldState:{error:p}})=>w.jsx(zt,{inputRef:c,name:F,label:s,isLoading:o,isReadOnly:l,error:p,value:g??null,onChange:D=>{_(D),a?.(D)},onBlur:V,...d,...b})}),Ue=({name:t,label:s,isLoading:r=!1,isReadOnly:a=!1,isNumber:o=!1,adornment:l=void 0,value:d=void 0,onChange:c=void 0,..._})=>w.jsx(fe,{name:t,defaultValue:null,render:({field:{onChange:V,onBlur:g,value:F,disabled:b,ref:p,name:D},formState:{errors:A}})=>w.jsx(Xt,{inputRef:p,name:D,disabled:b,label:s,isNumber:o,isReadOnly:a,isLoading:r,adornment:l,error:A?.[D],value:F??"",onChange:R=>{V(R),c?.(R)},onBlur:g,..._})}),Qr=({name:t,label:s,isReadOnly:r=!1,isLoading:a=!1,adornment:o=void 0,item:l=void 0,...d})=>w.jsx(Ue,{name:t,label:s,isReadOnly:r,isLoading:a,adornment:o,isNumber:!0,...d}),Zr=({methods:t,onSubmit:s,isVisible:r,additionalChildren:a,children:o})=>{const l=d=>{d.code==="Enter"&&d.preventDefault()};return w.jsx(Er,{...t,children:w.jsxs("form",{onSubmit:s,style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},onKeyDown:d=>l(d),noValidate:!0,children:[o,w.jsxs(Yt,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[w.jsx(Jt,{label:"save",icon:"SaveIcon",type:"submit",disabled:!r,sx:{alignSelf:"flex-start",ml:2}}),a]})]})})},ct=({ref:t,container:s=!1,item:r=!1,components:a=!1,componentType:o=void 0,sx:l={},sxCardContent:d={},styleCardContent:c={},label:_=void 0,minWidth:V="200px",isDisplayNone:g=!1,rootComponent:F=void 0,children:b,...p})=>{const D=_,A=s&&!r&&!a,R=r&&!s&&!a;return w.jsx(Qt,{ref:t,container:s,sx:{flex:r?`1 1 ${V}`:1,gap:A?1:0,overflow:A?"auto":"hidden",display:g?"none":s?"flex":"block",flexWrap:s?"wrap":"nowrap",alignContent:r?"baseline":"stretch",borderRadius:s&&r||o==="table"?er:void 0,p:R?1:0,boxShadow:"none",...l},"data-testid":s?"GridContainer":r?"GridItem":void 0,...s&&r?{component:F??Zt}:{component:F??void 0},...p,children:s&&r?w.jsxs(w.Fragment,{children:[s&&r&&D?w.jsx(es,{label:_}):null,w.jsx(tr,{sx:{flex:o==="form"?"0 1 400px":1,display:"flex",flexDirection:"column",gap:1,width:"100%",height:"fit-content",...d,p:o==="table"?0:1},style:{...c,paddingBottom:10},children:b},p.index)]}):b})},es=({label:t})=>{const{t:s}=gt();return t?w.jsx(rr,{variant:"h6",fontWeight:400,gutterBottom:!0,width:"100%",px:1,pb:1,height:"min-content",children:s(t)}):null},ts=({label:t,options:s,value:r,onChange:a,valueKey:o,labelKeys:l,valueId:d="",isLoading:c=!1,isFreeSolo:_=!1,isReadOnly:V=!1,isError:g=!1,refetch:F=void 0,textFieldVariant:b="standard",getInternalValue:p=void 0,highlightOptions:D=void 0,disableControlLoader:A=!1,excludeSelectedItems:R=!1,row:G=void 0,rows:m=void 0,...P})=>{const j=oe.useMemo(()=>rs({options:s,row:G,rows:m,excludeSelectedItems:R,valueKey:o}),[s,G,m]);return w.jsx(sr,{options:j,value:r,onChange:a,valueKey:o,valueId:d,labelKeys:l,label:t,isFreeSolo:_,isLoading:c,isReadOnly:V,isError:g,refetch:F,row:G,textFieldVariant:b,getInternalValue:p,highlightOptions:D,disableControlLoader:A,...P})};function rs({options:t,row:s,rows:r,excludeSelectedItems:a,valueKey:o}){if(a&&s&&r){const l=r.filter(d=>d.id!==s.id).map(d=>d.original[o]);return t.filter(d=>!l.includes(d[o]))}return t}const ss=({name:t,label:s,options:r,valueKey:a,valueId:o,labelKeys:l,isFreeSolo:d=!1,isLoading:c=!1,isReadOnly:_=!1,isError:V=!1,refetch:g,highlightOptions:F,optionsDependBy:b,onChange:p=void 0,...D})=>{const{setValue:A}=Se();return w.jsx(fe,{name:t,defaultValue:null,render:({field:{name:R,ref:G,value:m,onChange:P,onBlur:j},fieldState:{error:T}})=>w.jsx(ts,{inputRef:G,name:R,label:s,options:r,valueKey:a,valueId:o,labelKeys:l,isFreeSolo:d,isLoading:c,isReadOnly:_,isError:V,refetch:g,highlightOptions:F,error:T,onBlur:j,value:m??null,onChange:(W,$)=>{P(W),p?.(W),$&&Object.keys($).forEach(ue=>{A(ue,$[ue])})},...D})})},is=({name:t,label:s,value:r=void 0,checked:a=!1,onChange:o=void 0,tooltip:l="",isLoading:d=!1,isReadOnly:c=!1,..._})=>w.jsx(fe,{name:t,defaultValue:!1,render:({field:{onChange:V,onBlur:g,value:F,disabled:b,name:p,ref:D}})=>w.jsx(ir,{inputRef:D,tooltip:l,name:p,disabled:b,label:s,isLoading:d,isReadOnly:c,checked:F??!1,onChange:A=>{V(A),o?.(A)},onBlur:g,..._})}),as=({checked:t,label:s=void 0,isReadOnly:r=!1,error:a=void 0,...o})=>w.jsx(ar,{checked:t,label:s,isReadOnly:r,error:a,...o}),os=({ref:t,children:s,label:r="",isLoading:a=!1,isReadOnly:o=!1,onChange:l,...d})=>{const{t:c}=gt();return w.jsx(or,{isLoading:a,children:w.jsxs(nr,{children:[r?w.jsx(lr,{children:c(r)}):null,w.jsx(pr,{ref:t,"test-type":"radioGroup",...d,onChange:o?null:l(e),children:s?.map(({value:_,label:V})=>w.jsx(as,{checked:_,label:V},_))})]})})},ns=({name:t,children:s,label:r="",isLoading:a=!1,isReadOnly:o=!1,value:l=void 0,onChange:d=void 0,...c})=>w.jsx(fe,{name:t,render:({field:{onChange:_,onBlur:V,value:g,disabled:F,name:b,ref:p}})=>w.jsx(os,{ref:p,name:b,label:r,disabled:F,isLoading:a,isReadOnly:o,value:g??"",onChange:D=>{_(parseInt(D.target.value)),d?.(D)},onBlur:V,...c,children:s})}),ls=({fields:t,isLoading:s})=>{if(!Fe(t))return w.jsx(ct,{container:!0,children:Object.values(t).map(r=>w.jsx(ct,{item:!0,children:w.jsx(us,{field:r,isLoading:s})},r.name))})},us=({field:t,isLoading:s})=>{const r=ds[t.type];return r?w.jsx(r,{...t,isLoading:s}):(console.error("Unknown control",t),w.jsx(w.Fragment,{children:"Unknown control"}))},ds={[gr]:ss,[vr]:Ue,[hr]:Ue,[yr]:Qr,[fr]:is,[cr]:ns,[dr]:Yr,[ur]:Jr},cs=async(t,s)=>{const r={pending:"Обработка данных... ⏳",success:"Данные успешно сохранены! 🎉",error:"Ошибка при сохранении данных 😥"};await xr(s(t),r)},ms=({id:t,data:s,error:r,refetch:a,isLoading:o,elements:l,crud:d,onCloseModal:c,children:_})=>{const{fields:V}=l,g=mr(V),{create:F,update:b}=d,p=Xr({mode:"onChange",resolver:Sr(g),defaultValues:Cr({fields:V})});oe.useEffect(()=>{!Fe(s)&&s&&fs(s,p)},[s,p]);const{formState:{dirtyFields:D,errors:A,isValid:R},handleSubmit:G}=p,m=!Fe(D),j=!o&&R&&Fe(A)&&m,T=async W=>{const $=t?await b({variables:{id:t,data:ys(W,t)}}):await F({variables:{data:W}});return p.reset({}),a?.(),c?.(),$};return w.jsx(br,{error:r,refetch:a,children:w.jsx(Zr,{methods:p,onSubmit:G(W=>cs(W,T)),isVisible:j,additionalChildren:_,children:w.jsx(ls,{fields:V,isLoading:o})})})},fs=(t,s)=>{s.reset(t),s.trigger()},ys=(t,s)=>{const r="_",a={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(o.startsWith(r)||(a[o]=t[o]));return s!=null&&a.hasOwnProperty("id")&&delete a.id,a};export{ms as M};
